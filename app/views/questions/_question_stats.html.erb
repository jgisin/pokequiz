<h2>Question Stats</h2>

<section class="row">
  <section class="col-md-12">

    <p>
      Questions are ranked based on the number of times someone has gotten them correct or incorrect. More correct answers means the question is easier, more incorrect answers means it is harder. Categories are similarly ranked.
    </p>

    <h3>Top 3 Hardest Questions</h3>
    <table class="table table-striped">
      <% Result.hardest_questions(3).each_with_index do |r, ri| %>
        <tr>
          <td>
            <%= "#{ri + 1}. #{r.question.question}" %>
          </td>
          <td>
            <%= render partial: 'question_photo', locals: {r: r} %>
          </td>
        </tr>
      <% end %>
    </table>

    <h3>Top 3 Easiest Questions</h3>
    <table class="table table-striped">
      <% Result.easiest_questions(3).each_with_index do |r, ri| %>
        <tr>
          <td>
            <%= "#{ri + 1}. #{r.question.question}" %>
          </td>
          <td>
            <%= render partial: 'question_photo', locals:{r: r} %>
          </td>
        </tr>
      <% end %>
    </table>

    <h3>Hardest Category</h3>
    <table class="table table-striped">
      <% Result.hardest_category.each_with_index do |category| %>
        <tr>
          <td>
            <%= category[0].name.titleize %>
          </td>
          <td>
            <%= "#{category[1]} Incorrect Answers" %>
          </td>
        </tr>
      <% end %>
    </table>

    <h3>Easiest Category</h3>
    <table class="table table-striped">
      <% Result.easiest_category.each do |category| %>
        <tr>
          <td>
            <%= category[0].name.titleize %>
          </td>
          <td>
            <%= "#{category[1]} Correct Answers" %>
          </td>
        </tr>
      <% end %>
    </table>

  </section>
</section>
